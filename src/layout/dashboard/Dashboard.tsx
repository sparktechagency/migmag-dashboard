import React, { useEffect, useState } from "react";
import { Avatar, Badge, Button, Layout, Menu, Popover } from "antd";
import { Bell, ImageUp, Lock, LogOut, User, User2Icon } from "lucide-react";
import { Link, Outlet, useNavigate, useLocation } from "react-router-dom";
import headerHend from "../../assets/Images/dashboard/headerHend.png";
import SubMenu from "antd/es/menu/SubMenu";
import "./Styled_components.css";
import { UserOutlined } from "@ant-design/icons";
import { useUserProfileQuery } from "../../redux/dashboardFeatures/updateProfile/updateProfileApiSlice";
import axios from "axios";
import { useAllNotificationQuery } from "../../redux/dashboardFeatures/Order/orderSlice";
import { logoutAlert } from "../../utils/logoutAlert";

const { Header, Sider, Content } = Layout;

interface MenuItem {
  path: string;
  title: string;
  icon: React.ReactNode;
  activeIcon: React.ReactNode;
  children?: MenuItem[];
}

const menuItems: MenuItem[] = [
  {
    path: "/",
    title: "Dashboard",
    icon: (
      <svg
        width="21"
        height="21"
        viewBox="0 0 21 21"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M11.625 7.125V0.375H20.625V7.125H11.625ZM0.375 11.625V0.375H9.375V11.625H0.375ZM11.625 20.625V9.375H20.625V20.625H11.625ZM0.375 20.625V13.875H9.375V20.625H0.375ZM2.625 9.375H7.125V2.625H2.625V9.375ZM13.875 18.375H18.375V11.625H13.875V18.375ZM13.875 4.875H18.375V2.625H13.875V4.875ZM2.625 18.375H7.125V16.125H2.625V18.375Z"
          fill="#3A3A3A"
        />
      </svg>
    ),
    activeIcon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M14.625 10.125V3.375H23.625V10.125H14.625ZM3.375 14.625V3.375H12.375V14.625H3.375ZM14.625 23.625V12.375H23.625V23.625H14.625ZM3.375 23.625V16.875H12.375V23.625H3.375ZM5.625 12.375H10.125V5.625H5.625V12.375ZM16.875 21.375H21.375V14.625H16.875V21.375ZM16.875 7.875H21.375V5.625H16.875V7.875ZM5.625 21.375H10.125V19.125H5.625V21.375Z"
          fill="#BEC645"
        />
      </svg>
    ),
  },
  {
    path: "/manage-users",
    title: "Manage Users",
    icon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M14.7037 11.7113C15.3871 10.7565 15.7546 9.61172 15.7546 8.43754C15.7546 7.26336 15.3871 6.11862 14.7037 5.16379C15.3436 4.72789 16.1008 4.49644 16.875 4.50004C17.9193 4.50004 18.9208 4.91488 19.6592 5.65331C20.3977 6.39173 20.8125 7.39325 20.8125 8.43754C20.8125 9.48183 20.3977 10.4833 19.6592 11.2218C18.9208 11.9602 17.9193 12.375 16.875 12.375C16.1008 12.3786 15.3436 12.1472 14.7037 11.7113ZM6.1875 8.43754C6.1875 7.65878 6.41843 6.8975 6.85109 6.24998C7.28375 5.60247 7.8987 5.09779 8.61818 4.79977C9.33767 4.50175 10.1294 4.42377 10.8932 4.5757C11.657 4.72763 12.3586 5.10264 12.9092 5.65331C13.4599 6.20398 13.8349 6.90557 13.9868 7.66937C14.1388 8.43317 14.0608 9.22487 13.7628 9.94436C13.4648 10.6638 12.9601 11.2788 12.3126 11.7115C11.665 12.1441 10.9038 12.375 10.125 12.375C9.08071 12.375 8.07919 11.9602 7.34077 11.2218C6.60234 10.4833 6.1875 9.48183 6.1875 8.43754ZM8.4375 8.43754C8.4375 8.7713 8.53647 9.09756 8.7219 9.37507C8.90732 9.65257 9.17087 9.86887 9.47922 9.99659C9.78757 10.1243 10.1269 10.1577 10.4542 10.0926C10.7816 10.0275 11.0822 9.86679 11.3182 9.63078C11.5542 9.39478 11.715 9.0941 11.7801 8.76676C11.8452 8.43941 11.8118 8.10011 11.684 7.79176C11.5563 7.48341 11.34 7.21986 11.0625 7.03444C10.785 6.84901 10.4588 6.75004 10.125 6.75004C9.67745 6.75004 9.24822 6.92783 8.93176 7.2443C8.61529 7.56077 8.4375 7.98999 8.4375 8.43754ZM18 19.125V21.375H2.25V19.125C2.25 19.125 2.25 14.625 10.125 14.625C18 14.625 18 19.125 18 19.125ZM15.75 19.125C15.5925 18.2475 14.2537 16.875 10.125 16.875C5.99625 16.875 4.57875 18.3488 4.5 19.125M17.9437 14.625C18.6333 15.1614 19.197 15.8421 19.5955 16.6195C19.9939 17.3969 20.2173 18.2521 20.25 19.125V21.375H24.75V19.125C24.75 19.125 24.75 15.0413 17.9325 14.625H17.9437Z"
          fill="#3A3A3A"
        />
      </svg>
    ),
    activeIcon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M14.7037 11.7113C15.3871 10.7565 15.7546 9.61172 15.7546 8.43754C15.7546 7.26336 15.3871 6.11862 14.7037 5.16379C15.3436 4.72789 16.1008 4.49644 16.875 4.50004C17.9193 4.50004 18.9208 4.91488 19.6592 5.65331C20.3977 6.39173 20.8125 7.39325 20.8125 8.43754C20.8125 9.48183 20.3977 10.4833 19.6592 11.2218C18.9208 11.9602 17.9193 12.375 16.875 12.375C16.1008 12.3786 15.3436 12.1472 14.7037 11.7113ZM6.1875 8.43754C6.1875 7.65878 6.41843 6.8975 6.85109 6.24998C7.28375 5.60247 7.8987 5.09779 8.61818 4.79977C9.33767 4.50175 10.1294 4.42377 10.8932 4.5757C11.657 4.72763 12.3586 5.10264 12.9092 5.65331C13.4599 6.20398 13.8349 6.90557 13.9868 7.66937C14.1388 8.43317 14.0608 9.22487 13.7628 9.94436C13.4648 10.6638 12.9601 11.2788 12.3126 11.7115C11.665 12.1441 10.9038 12.375 10.125 12.375C9.08071 12.375 8.07919 11.9602 7.34077 11.2218C6.60234 10.4833 6.1875 9.48183 6.1875 8.43754ZM8.4375 8.43754C8.4375 8.7713 8.53647 9.09756 8.7219 9.37507C8.90732 9.65257 9.17087 9.86887 9.47922 9.99659C9.78757 10.1243 10.1269 10.1577 10.4542 10.0926C10.7816 10.0275 11.0822 9.86679 11.3182 9.63078C11.5542 9.39478 11.715 9.0941 11.7801 8.76676C11.8452 8.43941 11.8118 8.10011 11.684 7.79176C11.5563 7.48341 11.34 7.21986 11.0625 7.03444C10.785 6.84901 10.4588 6.75004 10.125 6.75004C9.67745 6.75004 9.24822 6.92783 8.93176 7.2443C8.61529 7.56077 8.4375 7.98999 8.4375 8.43754ZM18 19.125V21.375H2.25V19.125C2.25 19.125 2.25 14.625 10.125 14.625C18 14.625 18 19.125 18 19.125ZM15.75 19.125C15.5925 18.2475 14.2537 16.875 10.125 16.875C5.99625 16.875 4.57875 18.3488 4.5 19.125M17.9437 14.625C18.6333 15.1614 19.197 15.8421 19.5955 16.6195C19.9939 17.3969 20.2173 18.2521 20.25 19.125V21.375H24.75V19.125C24.75 19.125 24.75 15.0413 17.9325 14.625H17.9437Z"
          fill="#BEC645"
        />
      </svg>
    ),
  },
  {
    path: "/categories",
    title: "Categories",
    icon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_693_223"
          className="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="27"
          height="27"
        >
          <rect width="27" height="27" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_693_223)">
          <path
            d="M7.3125 12.375L13.5 2.25L19.6875 12.375H7.3125ZM19.6875 24.75C18.2812 24.75 17.0859 24.2578 16.1016 23.2734C15.1172 22.2891 14.625 21.0938 14.625 19.6875C14.625 18.2812 15.1172 17.0859 16.1016 16.1016C17.0859 15.1172 18.2812 14.625 19.6875 14.625C21.0938 14.625 22.2891 15.1172 23.2734 16.1016C24.2578 17.0859 24.75 18.2812 24.75 19.6875C24.75 21.0938 24.2578 22.2891 23.2734 23.2734C22.2891 24.2578 21.0938 24.75 19.6875 24.75ZM3.375 24.1875V15.1875H12.375V24.1875H3.375ZM19.6875 22.5C20.475 22.5 21.1406 22.2281 21.6844 21.6844C22.2281 21.1406 22.5 20.475 22.5 19.6875C22.5 18.9 22.2281 18.2344 21.6844 17.6906C21.1406 17.1469 20.475 16.875 19.6875 16.875C18.9 16.875 18.2344 17.1469 17.6906 17.6906C17.1469 18.2344 16.875 18.9 16.875 19.6875C16.875 20.475 17.1469 21.1406 17.6906 21.6844C18.2344 22.2281 18.9 22.5 19.6875 22.5ZM5.625 21.9375H10.125V17.4375H5.625V21.9375ZM11.3063 10.125H15.6937L13.5 6.58125L11.3063 10.125Z"
            fill="#3A3A3A"
          />
        </g>
      </svg>
    ),
    activeIcon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_693_223"
          className="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="27"
          height="27"
        >
          <rect width="27" height="27" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_693_223)">
          <path
            d="M7.3125 12.375L13.5 2.25L19.6875 12.375H7.3125ZM19.6875 24.75C18.2812 24.75 17.0859 24.2578 16.1016 23.2734C15.1172 22.2891 14.625 21.0938 14.625 19.6875C14.625 18.2812 15.1172 17.0859 16.1016 16.1016C17.0859 15.1172 18.2812 14.625 19.6875 14.625C21.0938 14.625 22.2891 15.1172 23.2734 16.1016C24.2578 17.0859 24.75 18.2812 24.75 19.6875C24.75 21.0938 24.2578 22.2891 23.2734 23.2734C22.2891 24.2578 21.0938 24.75 19.6875 24.75ZM3.375 24.1875V15.1875H12.375V24.1875H3.375ZM19.6875 22.5C20.475 22.5 21.1406 22.2281 21.6844 21.6844C22.2281 21.1406 22.5 20.475 22.5 19.6875C22.5 18.9 22.2281 18.2344 21.6844 17.6906C21.1406 17.1469 20.475 16.875 19.6875 16.875C18.9 16.875 18.2344 17.1469 17.6906 17.6906C17.1469 18.2344 16.875 18.9 16.875 19.6875C16.875 20.475 17.1469 21.1406 17.6906 21.6844C18.2344 22.2281 18.9 22.5 19.6875 22.5ZM5.625 21.9375H10.125V17.4375H5.625V21.9375ZM11.3063 10.125H15.6937L13.5 6.58125L11.3063 10.125Z"
            fill="#BEC645"
          />
        </g>
      </svg>
    ),
  },
  {
    path: "/manage_song",
    title: "Manage Song",
    icon: (
      <svg
        width="19"
        height="23"
        viewBox="0 0 19 23"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8.09375 19.375C8.80625 19.375 9.40625 19.1313 9.89375 18.6438C10.3813 18.1562 10.625 17.5562 10.625 16.8438V12.625H14V10.375H9.5V14.7344C9.29375 14.5844 9.07363 14.4764 8.83963 14.4104C8.60563 14.3444 8.357 14.3118 8.09375 14.3125C7.38125 14.3125 6.78125 14.5562 6.29375 15.0437C5.80625 15.5312 5.5625 16.1313 5.5625 16.8438C5.5625 17.5562 5.80625 18.1562 6.29375 18.6438C6.78125 19.1313 7.38125 19.375 8.09375 19.375ZM2.75 22.75C2.13125 22.75 1.60175 22.5299 1.1615 22.0896C0.72125 21.6494 0.50075 21.1195 0.5 20.5V2.5C0.5 1.88125 0.7205 1.35175 1.1615 0.9115C1.6025 0.47125 2.132 0.25075 2.75 0.25H11.75L18.5 7V20.5C18.5 21.1187 18.2799 21.6486 17.8396 22.0896C17.3994 22.5306 16.8695 22.7507 16.25 22.75H2.75ZM10.625 8.125V2.5H2.75V20.5H16.25V8.125H10.625Z"
          fill="#3A3A3A"
        />
      </svg>
    ),
    activeIcon: (
      <svg
        width="19"
        height="23"
        viewBox="0 0 19 23"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8.09375 19.375C8.80625 19.375 9.40625 19.1313 9.89375 18.6438C10.3813 18.1562 10.625 17.5562 10.625 16.8438V12.625H14V10.375H9.5V14.7344C9.29375 14.5844 9.07363 14.4764 8.83963 14.4104C8.60563 14.3444 8.357 14.3118 8.09375 14.3125C7.38125 14.3125 6.78125 14.5562 6.29375 15.0437C5.80625 15.5312 5.5625 16.1313 5.5625 16.8438C5.5625 17.5562 5.80625 18.1562 6.29375 18.6438C6.78125 19.1313 7.38125 19.375 8.09375 19.375ZM2.75 22.75C2.13125 22.75 1.60175 22.5299 1.1615 22.0896C0.72125 21.6494 0.50075 21.1195 0.5 20.5V2.5C0.5 1.88125 0.7205 1.35175 1.1615 0.9115C1.6025 0.47125 2.132 0.25075 2.75 0.25H11.75L18.5 7V20.5C18.5 21.1187 18.2799 21.6486 17.8396 22.0896C17.3994 22.5306 16.8695 22.7507 16.25 22.75H2.75ZM10.625 8.125V2.5H2.75V20.5H16.25V8.125H10.625Z"
          fill="#BEC645"
        />
      </svg>
    ),
  },
  // {
  //   path: "/top-ten-vocal",
  //   title: "Top Ten Vocal",
  //   icon: (
  //     <svg
  //       width="27"
  //       height="27"
  //       viewBox="0 0 27 27"
  //       fill="none"
  //       xmlns="http://www.w3.org/2000/svg"
  //     >
  //       <mask
  //         id="mask0_693_223"
  //         className="mask-type:alpha"
  //         maskUnits="userSpaceOnUse"
  //         x="0"
  //         y="0"
  //         width="27"
  //         height="27"
  //       >
  //         <rect width="27" height="27" fill="#D9D9D9" />
  //       </mask>
  //       <g mask="url(#mask0_693_223)">
  //         <path
  //           d="M7.3125 12.375L13.5 2.25L19.6875 12.375H7.3125ZM19.6875 24.75C18.2812 24.75 17.0859 24.2578 16.1016 23.2734C15.1172 22.2891 14.625 21.0938 14.625 19.6875C14.625 18.2812 15.1172 17.0859 16.1016 16.1016C17.0859 15.1172 18.2812 14.625 19.6875 14.625C21.0938 14.625 22.2891 15.1172 23.2734 16.1016C24.2578 17.0859 24.75 18.2812 24.75 19.6875C24.75 21.0938 24.2578 22.2891 23.2734 23.2734C22.2891 24.2578 21.0938 24.75 19.6875 24.75ZM3.375 24.1875V15.1875H12.375V24.1875H3.375ZM19.6875 22.5C20.475 22.5 21.1406 22.2281 21.6844 21.6844C22.2281 21.1406 22.5 20.475 22.5 19.6875C22.5 18.9 22.2281 18.2344 21.6844 17.6906C21.1406 17.1469 20.475 16.875 19.6875 16.875C18.9 16.875 18.2344 17.1469 17.6906 17.6906C17.1469 18.2344 16.875 18.9 16.875 19.6875C16.875 20.475 17.1469 21.1406 17.6906 21.6844C18.2344 22.2281 18.9 22.5 19.6875 22.5ZM5.625 21.9375H10.125V17.4375H5.625V21.9375ZM11.3063 10.125H15.6937L13.5 6.58125L11.3063 10.125Z"
  //           fill="#3A3A3A"
  //         />
  //       </g>
  //     </svg>
  //   ),
  //   activeIcon: (
  //     <svg
  //       width="27"
  //       height="27"
  //       viewBox="0 0 27 27"
  //       fill="none"
  //       xmlns="http://www.w3.org/2000/svg"
  //     >
  //       <mask
  //         id="mask0_693_223"
  //         className="mask-type:alpha"
  //         maskUnits="userSpaceOnUse"
  //         x="0"
  //         y="0"
  //         width="27"
  //         height="27"
  //       >
  //         <rect width="27" height="27" fill="#D9D9D9" />
  //       </mask>
  //       <g mask="url(#mask0_693_223)">
  //         <path
  //           d="M7.3125 12.375L13.5 2.25L19.6875 12.375H7.3125ZM19.6875 24.75C18.2812 24.75 17.0859 24.2578 16.1016 23.2734C15.1172 22.2891 14.625 21.0938 14.625 19.6875C14.625 18.2812 15.1172 17.0859 16.1016 16.1016C17.0859 15.1172 18.2812 14.625 19.6875 14.625C21.0938 14.625 22.2891 15.1172 23.2734 16.1016C24.2578 17.0859 24.75 18.2812 24.75 19.6875C24.75 21.0938 24.2578 22.2891 23.2734 23.2734C22.2891 24.2578 21.0938 24.75 19.6875 24.75ZM3.375 24.1875V15.1875H12.375V24.1875H3.375ZM19.6875 22.5C20.475 22.5 21.1406 22.2281 21.6844 21.6844C22.2281 21.1406 22.5 20.475 22.5 19.6875C22.5 18.9 22.2281 18.2344 21.6844 17.6906C21.1406 17.1469 20.475 16.875 19.6875 16.875C18.9 16.875 18.2344 17.1469 17.6906 17.6906C17.1469 18.2344 16.875 18.9 16.875 19.6875C16.875 20.475 17.1469 21.1406 17.6906 21.6844C18.2344 22.2281 18.9 22.5 19.6875 22.5ZM5.625 21.9375H10.125V17.4375H5.625V21.9375ZM11.3063 10.125H15.6937L13.5 6.58125L11.3063 10.125Z"
  //           fill="#BEC645"
  //         />
  //       </g>
  //     </svg>
  //   ),
  // },
  {
    path: "/order",
    title: "Order",
    icon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M21.375 2.25H5.625C5.00368 2.25 4.5 2.75368 4.5 3.375V23.625C4.5 24.2463 5.00368 24.75 5.625 24.75H21.375C21.9963 24.75 22.5 24.2463 22.5 23.625V3.375C22.5 2.75368 21.9963 2.25 21.375 2.25Z"
          stroke="#3A3A3A"
          stroke-width="2"
          stroke-linejoin="round"
        />
        <path
          d="M11.8125 7.875H18.5625M11.8125 13.5H18.5625M11.8125 19.125H18.5625"
          stroke="#3A3A3A"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M8.4375 9C8.73587 9 9.02202 8.88147 9.23299 8.67049C9.44397 8.45952 9.5625 8.17337 9.5625 7.875C9.5625 7.57663 9.44397 7.29048 9.23299 7.07951C9.02202 6.86853 8.73587 6.75 8.4375 6.75C8.13913 6.75 7.85298 6.86853 7.64201 7.07951C7.43103 7.29048 7.3125 7.57663 7.3125 7.875C7.3125 8.17337 7.43103 8.45952 7.64201 8.67049C7.85298 8.88147 8.13913 9 8.4375 9ZM8.4375 14.625C8.73587 14.625 9.02202 14.5065 9.23299 14.2955C9.44397 14.0845 9.5625 13.7984 9.5625 13.5C9.5625 13.2016 9.44397 12.9155 9.23299 12.7045C9.02202 12.4935 8.73587 12.375 8.4375 12.375C8.13913 12.375 7.85298 12.4935 7.64201 12.7045C7.43103 12.9155 7.3125 13.2016 7.3125 13.5C7.3125 13.7984 7.43103 14.0845 7.64201 14.2955C7.85298 14.5065 8.13913 14.625 8.4375 14.625ZM8.4375 20.25C8.73587 20.25 9.02202 20.1315 9.23299 19.9205C9.44397 19.7095 9.5625 19.4234 9.5625 19.125C9.5625 18.8266 9.44397 18.5405 9.23299 18.3295C9.02202 18.1185 8.73587 18 8.4375 18C8.13913 18 7.85298 18.1185 7.64201 18.3295C7.43103 18.5405 7.3125 18.8266 7.3125 19.125C7.3125 19.4234 7.43103 19.7095 7.64201 19.9205C7.85298 20.1315 8.13913 20.25 8.4375 20.25Z"
          fill="#3A3A3A"
        />
      </svg>
    ),
    activeIcon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M21.375 2.25H5.625C5.00368 2.25 4.5 2.75368 4.5 3.375V23.625C4.5 24.2463 5.00368 24.75 5.625 24.75H21.375C21.9963 24.75 22.5 24.2463 22.5 23.625V3.375C22.5 2.75368 21.9963 2.25 21.375 2.25Z"
          stroke="#BEC645"
          stroke-width="2"
          stroke-linejoin="round"
        />
        <path
          d="M11.8125 7.875H18.5625M11.8125 13.5H18.5625M11.8125 19.125H18.5625"
          stroke="#BEC645"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M8.4375 9C8.73587 9 9.02202 8.88147 9.23299 8.67049C9.44397 8.45952 9.5625 8.17337 9.5625 7.875C9.5625 7.57663 9.44397 7.29048 9.23299 7.07951C9.02202 6.86853 8.73587 6.75 8.4375 6.75C8.13913 6.75 7.85298 6.86853 7.64201 7.07951C7.43103 7.29048 7.3125 7.57663 7.3125 7.875C7.3125 8.17337 7.43103 8.45952 7.64201 8.67049C7.85298 8.88147 8.13913 9 8.4375 9ZM8.4375 14.625C8.73587 14.625 9.02202 14.5065 9.23299 14.2955C9.44397 14.0845 9.5625 13.7984 9.5625 13.5C9.5625 13.2016 9.44397 12.9155 9.23299 12.7045C9.02202 12.4935 8.73587 12.375 8.4375 12.375C8.13913 12.375 7.85298 12.4935 7.64201 12.7045C7.43103 12.9155 7.3125 13.2016 7.3125 13.5C7.3125 13.7984 7.43103 14.0845 7.64201 14.2955C7.85298 14.5065 8.13913 14.625 8.4375 14.625ZM8.4375 20.25C8.73587 20.25 9.02202 20.1315 9.23299 19.9205C9.44397 19.7095 9.5625 19.4234 9.5625 19.125C9.5625 18.8266 9.44397 18.5405 9.23299 18.3295C9.02202 18.1185 8.73587 18 8.4375 18C8.13913 18 7.85298 18.1185 7.64201 18.3295C7.43103 18.5405 7.3125 18.8266 7.3125 19.125C7.3125 19.4234 7.43103 19.7095 7.64201 19.9205C7.85298 20.1315 8.13913 20.25 8.4375 20.25Z"
          fill="#BEC645"
        />
      </svg>
    ),
  },
  {
    path: "/top_artist",
    title: "Top Artist",
    icon: (
      <svg
        width="22"
        height="19"
        viewBox="0 0 22 19"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M17.8125 7.25H21.75V9.5H19.5V15.6875C19.5 16.475 19.2281 17.1406 18.6844 17.6844C18.1406 18.2281 17.475 18.5 16.6875 18.5C15.9 18.5 15.2344 18.2281 14.6906 17.6844C14.1469 17.1406 13.875 16.475 13.875 15.6875C13.875 14.9 14.1469 14.2344 14.6906 13.6906C15.2344 13.1469 15.9 12.875 16.6875 12.875C16.8375 12.875 17.0063 12.8892 17.1938 12.9178C17.3813 12.9462 17.5875 13.007 17.8125 13.1V7.25ZM0.375 18.5V15.35C0.375 14.6938 0.53925 14.1031 0.86775 13.5781C1.19625 13.0531 1.632 12.65 2.175 12.3688C3.3375 11.7875 4.51875 11.3517 5.71875 11.0615C6.91875 10.7712 8.1375 10.6257 9.375 10.625C10.1625 10.625 10.9455 10.6861 11.724 10.8084C12.5025 10.9306 13.2851 11.1132 14.0719 11.3562C13.6969 11.5812 13.3594 11.8531 13.0594 12.1719C12.7594 12.4906 12.4969 12.8375 12.2719 13.2125C11.7844 13.1 11.3018 13.0156 10.824 12.9594C10.3463 12.9031 9.86325 12.875 9.375 12.875C8.30625 12.875 7.25625 13.0063 6.225 13.2688C5.19375 13.5312 4.18125 13.9062 3.1875 14.3938C3.01875 14.4875 2.883 14.6188 2.78025 14.7875C2.6775 14.9563 2.62575 15.1438 2.625 15.35V16.25H11.6531C11.6906 16.625 11.7799 17 11.9209 17.375C12.0619 17.75 12.2539 18.125 12.4969 18.5H0.375ZM9.375 9.5C8.1375 9.5 7.07813 9.05937 6.19688 8.17812C5.31563 7.29687 4.875 6.2375 4.875 5C4.875 3.7625 5.31563 2.70313 6.19688 1.82188C7.07813 0.940625 8.1375 0.5 9.375 0.5C10.6125 0.5 11.6719 0.940625 12.5531 1.82188C13.4344 2.70313 13.875 3.7625 13.875 5C13.875 6.2375 13.4344 7.29687 12.5531 8.17812C11.6719 9.05937 10.6125 9.5 9.375 9.5ZM9.375 7.25C9.99375 7.25 10.5236 7.02988 10.9646 6.58963C11.4056 6.14937 11.6257 5.6195 11.625 5C11.6243 4.3805 11.4041 3.851 10.9646 3.4115C10.5251 2.972 9.99525 2.7515 9.375 2.75C8.75475 2.7485 8.22525 2.969 7.7865 3.4115C7.34775 3.854 7.12725 4.3835 7.125 5C7.12275 5.6165 7.34325 6.14638 7.7865 6.58963C8.22975 7.03288 8.75925 7.253 9.375 7.25Z"
          fill="#3A3A3A"
        />
      </svg>
    ),
    activeIcon: (
      <svg
        width="22"
        height="19"
        viewBox="0 0 22 19"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M17.8125 7.25H21.75V9.5H19.5V15.6875C19.5 16.475 19.2281 17.1406 18.6844 17.6844C18.1406 18.2281 17.475 18.5 16.6875 18.5C15.9 18.5 15.2344 18.2281 14.6906 17.6844C14.1469 17.1406 13.875 16.475 13.875 15.6875C13.875 14.9 14.1469 14.2344 14.6906 13.6906C15.2344 13.1469 15.9 12.875 16.6875 12.875C16.8375 12.875 17.0063 12.8892 17.1938 12.9178C17.3813 12.9462 17.5875 13.007 17.8125 13.1V7.25ZM0.375 18.5V15.35C0.375 14.6938 0.53925 14.1031 0.86775 13.5781C1.19625 13.0531 1.632 12.65 2.175 12.3688C3.3375 11.7875 4.51875 11.3517 5.71875 11.0615C6.91875 10.7712 8.1375 10.6257 9.375 10.625C10.1625 10.625 10.9455 10.6861 11.724 10.8084C12.5025 10.9306 13.2851 11.1132 14.0719 11.3562C13.6969 11.5812 13.3594 11.8531 13.0594 12.1719C12.7594 12.4906 12.4969 12.8375 12.2719 13.2125C11.7844 13.1 11.3018 13.0156 10.824 12.9594C10.3463 12.9031 9.86325 12.875 9.375 12.875C8.30625 12.875 7.25625 13.0063 6.225 13.2688C5.19375 13.5312 4.18125 13.9062 3.1875 14.3938C3.01875 14.4875 2.883 14.6188 2.78025 14.7875C2.6775 14.9563 2.62575 15.1438 2.625 15.35V16.25H11.6531C11.6906 16.625 11.7799 17 11.9209 17.375C12.0619 17.75 12.2539 18.125 12.4969 18.5H0.375ZM9.375 9.5C8.1375 9.5 7.07813 9.05937 6.19688 8.17812C5.31563 7.29687 4.875 6.2375 4.875 5C4.875 3.7625 5.31563 2.70313 6.19688 1.82188C7.07813 0.940625 8.1375 0.5 9.375 0.5C10.6125 0.5 11.6719 0.940625 12.5531 1.82188C13.4344 2.70313 13.875 3.7625 13.875 5C13.875 6.2375 13.4344 7.29687 12.5531 8.17812C11.6719 9.05937 10.6125 9.5 9.375 9.5ZM9.375 7.25C9.99375 7.25 10.5236 7.02988 10.9646 6.58963C11.4056 6.14937 11.6257 5.6195 11.625 5C11.6243 4.3805 11.4041 3.851 10.9646 3.4115C10.5251 2.972 9.99525 2.7515 9.375 2.75C8.75475 2.7485 8.22525 2.969 7.7865 3.4115C7.34775 3.854 7.12725 4.3835 7.125 5C7.12275 5.6165 7.34325 6.14638 7.7865 6.58963C8.22975 7.03288 8.75925 7.253 9.375 7.25Z"
          fill="#BEC645"
        />
      </svg>
    ),
  },

  {
    path: "/transactions",
    title: "Transactions",
    icon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_707_508"
          className="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="27"
          height="27"
        >
          <rect width="27" height="27" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_707_508)">
          <path
            d="M13.5 25.875C11.4 25.875 9.46875 25.3969 7.70625 24.4406C5.94375 23.4844 4.5 22.2094 3.375 20.6156V23.625H1.125V16.875H7.875V19.125H5.09063C5.99062 20.475 7.17656 21.5625 8.64844 22.3875C10.1203 23.2125 11.7375 23.625 13.5 23.625C14.9062 23.625 16.2234 23.3578 17.4516 22.8234C18.6797 22.2891 19.7484 21.5672 20.6578 20.6578C21.5672 19.7484 22.2891 18.6797 22.8234 17.4516C23.3578 16.2234 23.625 14.9062 23.625 13.5H25.875C25.875 15.2063 25.5516 16.8094 24.9047 18.3094C24.2578 19.8094 23.3719 21.1219 22.2469 22.2469C21.1219 23.3719 19.8094 24.2578 18.3094 24.9047C16.8094 25.5516 15.2063 25.875 13.5 25.875ZM12.4875 21.375V19.9125C11.6063 19.7063 10.8891 19.3266 10.3359 18.7734C9.78281 18.2203 9.375 17.4937 9.1125 16.5938L10.9688 15.8625C11.1938 16.6313 11.5453 17.2078 12.0234 17.5922C12.5016 17.9766 13.05 18.1688 13.6688 18.1688C14.2875 18.1688 14.8172 18.0234 15.2578 17.7328C15.6984 17.4422 15.9188 16.9875 15.9188 16.3688C15.9188 15.825 15.6891 15.3844 15.2297 15.0469C14.7703 14.7094 13.95 14.325 12.7688 13.8938C11.6625 13.5 10.8516 13.0312 10.3359 12.4875C9.82031 11.9438 9.5625 11.2312 9.5625 10.35C9.5625 9.58125 9.82969 8.88281 10.3641 8.25469C10.8984 7.62656 11.625 7.21875 12.5438 7.03125V5.625H14.5125V7.03125C15.1875 7.0875 15.8016 7.35938 16.3547 7.84687C16.9078 8.33437 17.2875 8.90625 17.4937 9.5625L15.6937 10.2938C15.5437 9.8625 15.3 9.50156 14.9625 9.21094C14.625 8.92031 14.1562 8.775 13.5563 8.775C12.9 8.775 12.3984 8.91563 12.0516 9.19688C11.7047 9.47813 11.5312 9.8625 11.5312 10.35C11.5312 10.8375 11.7469 11.2219 12.1781 11.5031C12.6094 11.7844 13.3875 12.1125 14.5125 12.4875C15.8625 12.975 16.7625 13.5469 17.2125 14.2031C17.6625 14.8594 17.8875 15.5813 17.8875 16.3688C17.8875 16.9125 17.7938 17.3906 17.6063 17.8031C17.4188 18.2156 17.1703 18.5672 16.8609 18.8578C16.5516 19.1484 16.1906 19.3828 15.7781 19.5609C15.3656 19.7391 14.925 19.875 14.4563 19.9688V21.375H12.4875ZM1.125 13.5C1.125 11.7937 1.44844 10.1906 2.09531 8.69062C2.74219 7.19062 3.62813 5.87813 4.75313 4.75313C5.87813 3.62813 7.19062 2.74219 8.69062 2.09531C10.1906 1.44844 11.7937 1.125 13.5 1.125C15.6 1.125 17.5312 1.60312 19.2937 2.55937C21.0562 3.51562 22.5 4.79063 23.625 6.38438V3.375H25.875V10.125H19.125V7.875H21.9094C21.0094 6.525 19.8234 5.4375 18.3516 4.6125C16.8797 3.7875 15.2625 3.375 13.5 3.375C12.0938 3.375 10.7766 3.64219 9.54844 4.17656C8.32031 4.71094 7.25156 5.43281 6.34219 6.34219C5.43281 7.25156 4.71094 8.32031 4.17656 9.54844C3.64219 10.7766 3.375 12.0938 3.375 13.5H1.125Z"
            fill="#3A3A3A"
          />
        </g>
      </svg>
    ),
    activeIcon: (
      <svg
        width="27"
        height="27"
        viewBox="0 0 27 27"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_707_508"
          className="mask-type:alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="27"
          height="27"
        >
          <rect width="27" height="27" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_707_508)">
          <path
            d="M13.5 25.875C11.4 25.875 9.46875 25.3969 7.70625 24.4406C5.94375 23.4844 4.5 22.2094 3.375 20.6156V23.625H1.125V16.875H7.875V19.125H5.09063C5.99062 20.475 7.17656 21.5625 8.64844 22.3875C10.1203 23.2125 11.7375 23.625 13.5 23.625C14.9062 23.625 16.2234 23.3578 17.4516 22.8234C18.6797 22.2891 19.7484 21.5672 20.6578 20.6578C21.5672 19.7484 22.2891 18.6797 22.8234 17.4516C23.3578 16.2234 23.625 14.9062 23.625 13.5H25.875C25.875 15.2063 25.5516 16.8094 24.9047 18.3094C24.2578 19.8094 23.3719 21.1219 22.2469 22.2469C21.1219 23.3719 19.8094 24.2578 18.3094 24.9047C16.8094 25.5516 15.2063 25.875 13.5 25.875ZM12.4875 21.375V19.9125C11.6063 19.7063 10.8891 19.3266 10.3359 18.7734C9.78281 18.2203 9.375 17.4937 9.1125 16.5938L10.9688 15.8625C11.1938 16.6313 11.5453 17.2078 12.0234 17.5922C12.5016 17.9766 13.05 18.1688 13.6688 18.1688C14.2875 18.1688 14.8172 18.0234 15.2578 17.7328C15.6984 17.4422 15.9188 16.9875 15.9188 16.3688C15.9188 15.825 15.6891 15.3844 15.2297 15.0469C14.7703 14.7094 13.95 14.325 12.7688 13.8938C11.6625 13.5 10.8516 13.0312 10.3359 12.4875C9.82031 11.9438 9.5625 11.2312 9.5625 10.35C9.5625 9.58125 9.82969 8.88281 10.3641 8.25469C10.8984 7.62656 11.625 7.21875 12.5438 7.03125V5.625H14.5125V7.03125C15.1875 7.0875 15.8016 7.35938 16.3547 7.84687C16.9078 8.33437 17.2875 8.90625 17.4937 9.5625L15.6937 10.2938C15.5437 9.8625 15.3 9.50156 14.9625 9.21094C14.625 8.92031 14.1562 8.775 13.5563 8.775C12.9 8.775 12.3984 8.91563 12.0516 9.19688C11.7047 9.47813 11.5312 9.8625 11.5312 10.35C11.5312 10.8375 11.7469 11.2219 12.1781 11.5031C12.6094 11.7844 13.3875 12.1125 14.5125 12.4875C15.8625 12.975 16.7625 13.5469 17.2125 14.2031C17.6625 14.8594 17.8875 15.5813 17.8875 16.3688C17.8875 16.9125 17.7938 17.3906 17.6063 17.8031C17.4188 18.2156 17.1703 18.5672 16.8609 18.8578C16.5516 19.1484 16.1906 19.3828 15.7781 19.5609C15.3656 19.7391 14.925 19.875 14.4563 19.9688V21.375H12.4875ZM1.125 13.5C1.125 11.7937 1.44844 10.1906 2.09531 8.69062C2.74219 7.19062 3.62813 5.87813 4.75313 4.75313C5.87813 3.62813 7.19062 2.74219 8.69062 2.09531C10.1906 1.44844 11.7937 1.125 13.5 1.125C15.6 1.125 17.5312 1.60312 19.2937 2.55937C21.0562 3.51562 22.5 4.79063 23.625 6.38438V3.375H25.875V10.125H19.125V7.875H21.9094C21.0094 6.525 19.8234 5.4375 18.3516 4.6125C16.8797 3.7875 15.2625 3.375 13.5 3.375C12.0938 3.375 10.7766 3.64219 9.54844 4.17656C8.32031 4.71094 7.25156 5.43281 6.34219 6.34219C5.43281 7.25156 4.71094 8.32031 4.17656 9.54844C3.64219 10.7766 3.375 12.0938 3.375 13.5H1.125Z"
            fill="#BEC645"
          />
        </g>
      </svg>
    ),
  },
  {
    path: "/my_profile",
    title: "My Profile",
    icon: (
      <svg
        width="19"
        height="19"
        viewBox="0 0 19 19"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.5 0.5C10.6935 0.5 11.8381 0.974106 12.682 1.81802C13.5259 2.66193 14 3.80653 14 5C14 6.19347 13.5259 7.33807 12.682 8.18198C11.8381 9.02589 10.6935 9.5 9.5 9.5C8.30653 9.5 7.16193 9.02589 6.31802 8.18198C5.47411 7.33807 5 6.19347 5 5C5 3.80653 5.47411 2.66193 6.31802 1.81802C7.16193 0.974106 8.30653 0.5 9.5 0.5ZM9.5 2.75C8.90326 2.75 8.33097 2.98705 7.90901 3.40901C7.48705 3.83097 7.25 4.40326 7.25 5C7.25 5.59674 7.48705 6.16903 7.90901 6.59099C8.33097 7.01295 8.90326 7.25 9.5 7.25C10.0967 7.25 10.669 7.01295 11.091 6.59099C11.5129 6.16903 11.75 5.59674 11.75 5C11.75 4.40326 11.5129 3.83097 11.091 3.40901C10.669 2.98705 10.0967 2.75 9.5 2.75ZM9.5 10.625C12.5037 10.625 18.5 12.1213 18.5 15.125V18.5H0.5V15.125C0.5 12.1213 6.49625 10.625 9.5 10.625ZM9.5 12.7625C6.15875 12.7625 2.6375 14.405 2.6375 15.125V16.3625H16.3625V15.125C16.3625 14.405 12.8413 12.7625 9.5 12.7625Z"
          fill="#3A3A3A"
        />
      </svg>
    ),
    activeIcon: (
      <svg
        width="19"
        height="19"
        viewBox="0 0 19 19"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.5 0.5C10.6935 0.5 11.8381 0.974106 12.682 1.81802C13.5259 2.66193 14 3.80653 14 5C14 6.19347 13.5259 7.33807 12.682 8.18198C11.8381 9.02589 10.6935 9.5 9.5 9.5C8.30653 9.5 7.16193 9.02589 6.31802 8.18198C5.47411 7.33807 5 6.19347 5 5C5 3.80653 5.47411 2.66193 6.31802 1.81802C7.16193 0.974106 8.30653 0.5 9.5 0.5ZM9.5 2.75C8.90326 2.75 8.33097 2.98705 7.90901 3.40901C7.48705 3.83097 7.25 4.40326 7.25 5C7.25 5.59674 7.48705 6.16903 7.90901 6.59099C8.33097 7.01295 8.90326 7.25 9.5 7.25C10.0967 7.25 10.669 7.01295 11.091 6.59099C11.5129 6.16903 11.75 5.59674 11.75 5C11.75 4.40326 11.5129 3.83097 11.091 3.40901C10.669 2.98705 10.0967 2.75 9.5 2.75ZM9.5 10.625C12.5037 10.625 18.5 12.1213 18.5 15.125V18.5H0.5V15.125C0.5 12.1213 6.49625 10.625 9.5 10.625ZM9.5 12.7625C6.15875 12.7625 2.6375 14.405 2.6375 15.125V16.3625H16.3625V15.125C16.3625 14.405 12.8413 12.7625 9.5 12.7625Z"
          fill="#BEC645"
        />
      </svg>
    ),
  },
];

const content = (
  <div className="w-40">
    <p className="mb-2">
      <Link to="/profile" className="flex items-center gap-2">
        <User2Icon size={18} /> <span className="text-md">Profile</span>
      </Link>
    </p>
    <p className="mb-3">
      <Link to="/change-password" className="flex items-center gap-2">
        <Lock size={18} /> <span className="text-md">Change password</span>
      </Link>
    </p>
  </div>
);

const Dashboard: React.FC = () => {
  const navigate = useNavigate();
  const location = useLocation();

  const handleLogout = async () => {
    const res = await logoutAlert();
    if (res.isConfirmed) {
      localStorage.clear();
      navigate("/auth/login");
    }
  };

  const handleNotifications = () => {
    navigate("/notification")
  };

  const getMenuIcon = (
    icon: React.ReactNode,
    activeIcon: React.ReactNode,
    isActive: boolean
  ) => {
    return isActive ? activeIcon : icon;
  };

  // const [userData, setUserData] = useState("");
  // const [isLoading, setIsLoading] = useState(true);

  // useEffect(() => {
  //   const token = localStorage.getItem("admin_token"); // token এখান থেকে নিবেন
  //   if (!token) {
  //     setIsLoading(false);
  //     return;
  //   }

  //   const fetchUserData = async () => {
  //     try {
  //       const res = await axios.get(
  //         `${import.meta.env.VITE_BASE_URL}/api/profile`,
  //         {
  //           headers: { Authorization: `Bearer ${token}` },
  //         }
  //       );
  //       console.log(res?.data?.data);
  //       setUserData(res.data?.data);
  //     } catch (error) {
  //       console.error("Error fetching profile:", error);
  //     } finally {
  //       setIsLoading(false);
  //     }
  //   };

  //   fetchUserData();
  // }, []); // [] দিলে একবারই রান করবে

  // console.log(`user profile is ${userData?.avatar}`)

  const { data: readNotification } = useAllNotificationQuery(undefined);


  const allNotifications = readNotification?.data?.data || [];

  // 1️⃣ Define state at top-level
  const [unRead, setUnRead] = useState(0);

  // 2️⃣ Update state when notifications change
  useEffect(() => {
    const unreadNotifications = allNotifications.filter(n => n.read_at === null);
    setUnRead(unreadNotifications.length);
  }, [allNotifications]); // ✅ dependency updates count automatically

  console.log("Unread notifications:", unRead);




  const { data, isLoading } = useUserProfileQuery(undefined);

  if (isLoading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <h1>Loading...</h1>
      </div>
    );
  }





  return (
    <Layout>
      <Sider
        width={300}
        className="sidebar-menu"
        style={{
          position: "fixed",
          left: 0,
          top: 0,
          bottom: 0,
          overflow: "auto",
          zIndex: 2,
        }}
        trigger={null}
      >
        {/* dashboard */}
        <div className="mt-11 mb-16 ml-6">
          <Link to="/">
            <svg
              width="174"
              height="22"
              viewBox="0 0 174 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_201_8689)">
                <path
                  d="M76.7531 9.06686H68.8931V21.7684H64.7485V9.06686H56.9004V5.57178H76.7531V9.06686Z"
                  fill="black"
                />
                <path
                  d="M88.876 22.0028C81.771 22.0028 78.7188 19.2969 78.7188 13.6508V5.57178H82.8634V13.6478C82.8634 15.9146 83.4851 18.5048 88.8642 18.5048C94.2433 18.5048 94.868 15.8909 94.868 13.6478V5.57178H99.0126V13.6478C99.0363 19.2702 95.9633 22.0028 88.876 22.0028Z"
                  fill="black"
                />
                <path
                  d="M122.054 5.57178V21.7684H116.4L105.387 9.62168V21.7684H101.242V5.57178H106.867L117.904 17.7363V5.57178H122.054Z"
                  fill="black"
                />
                <path
                  d="M128.522 8.87994V12.1673H141.45V15.1788H128.522V18.4662H141.45V21.7743H124.365V5.57178H141.45V8.87994H128.522Z"
                  fill="black"
                />
                <path
                  d="M168.161 21.7684H164.017V10.6631L157.299 21.7684H154.297L147.58 10.6631V21.7684H143.436V5.57178H149.06L155.825 17.0005L162.59 5.57178H168.214L168.161 21.7684Z"
                  fill="black"
                />
                <path
                  d="M51.6005 5.03789V21.9496H37.5118V8.55373C37.5118 8.55373 32.8491 8.77923 32.8491 16.7781V22.003H18.7278V16.3301C18.4317 8.77922 14.0651 8.55373 14.0651 8.55373V21.9466H0V5.03492H14.0651C14.0651 5.03492 17.2239 5.03491 18.7278 9.12635V0H32.8343V9.16789C34.2997 5.03789 37.497 5.03789 37.497 5.03789H51.6005Z"
                  fill="black"
                />
                <path
                  d="M173.989 7.38475C173.987 7.74199 173.881 8.09087 173.682 8.38729C173.483 8.68371 173.201 8.91437 172.871 9.05013C172.541 9.18589 172.179 9.22067 171.829 9.15004C171.48 9.07941 171.159 8.90656 170.908 8.65333C170.656 8.4001 170.485 8.07786 170.417 7.72733C170.348 7.3768 170.384 7.0137 170.521 6.68393C170.659 6.35417 170.89 6.07254 171.187 5.87461C171.484 5.67669 171.832 5.57135 172.189 5.57194C172.427 5.56872 172.663 5.61348 172.883 5.70355C173.104 5.79363 173.304 5.92718 173.472 6.09628C173.64 6.26538 173.772 6.46658 173.861 6.68792C173.95 6.90926 173.993 7.14623 173.989 7.38475ZM170.732 7.38475C170.739 7.67315 170.83 7.95326 170.994 8.18996C171.159 8.42666 171.389 8.60942 171.657 8.71537C171.925 8.82132 172.218 8.84573 172.499 8.78554C172.781 8.72536 173.038 8.58326 173.24 8.37704C173.441 8.17082 173.577 7.90965 173.631 7.62627C173.685 7.34288 173.654 7.04987 173.542 6.78395C173.431 6.51803 173.243 6.29101 173.004 6.13136C172.764 5.97171 172.482 5.88651 172.195 5.88644C171.999 5.88391 171.805 5.92119 171.624 5.99601C171.444 6.07084 171.28 6.18163 171.143 6.32172C171.006 6.46181 170.9 6.62826 170.829 6.81099C170.758 6.99371 170.725 7.1889 170.732 7.38475ZM173.151 7.08805H172.662C172.662 7.03053 172.649 6.97375 172.626 6.92105C172.603 6.86835 172.57 6.82081 172.528 6.78125C172.487 6.74169 172.437 6.71092 172.384 6.69074C172.33 6.67056 172.273 6.66139 172.215 6.66378C171.89 6.66378 171.724 6.93971 171.724 7.36992C171.724 7.80013 171.916 8.08496 172.221 8.08496C172.334 8.08433 172.443 8.04027 172.524 7.96188C172.606 7.88349 172.654 7.77674 172.659 7.66364H173.145C173.115 7.89198 172.998 8.09991 172.819 8.24376C172.64 8.38761 172.412 8.45618 172.183 8.43506C172.047 8.4374 171.913 8.411 171.789 8.35761C171.664 8.30422 171.553 8.22504 171.461 8.12527C171.369 8.02551 171.299 7.90741 171.257 7.77876C171.214 7.65011 171.198 7.51382 171.212 7.37883C171.198 7.23981 171.215 7.09957 171.261 6.96755C171.306 6.83554 171.379 6.71482 171.475 6.61358C171.571 6.51234 171.688 6.43291 171.817 6.38066C171.946 6.32841 172.085 6.30456 172.224 6.31071C172.451 6.29791 172.674 6.37257 172.847 6.51934C173.021 6.66611 173.131 6.87387 173.157 7.09993L173.151 7.08805Z"
                  fill="black"
                />
                <path
                  d="M130.891 7.69629C130.889 8.05268 130.782 8.40057 130.583 8.69604C130.384 8.99152 130.103 9.22134 129.774 9.35651C129.445 9.49168 129.083 9.52614 128.734 9.45553C128.386 9.38492 128.066 9.21243 127.815 8.9598C127.564 8.70717 127.394 8.38573 127.325 8.03605C127.256 7.68637 127.292 7.32411 127.429 6.995C127.565 6.6659 127.796 6.3847 128.092 6.18688C128.388 5.98905 128.735 5.88347 129.091 5.88346C129.329 5.88024 129.565 5.925 129.786 6.01508C130.006 6.10515 130.206 6.2387 130.374 6.40781C130.542 6.57691 130.674 6.77812 130.763 6.99946C130.852 7.2208 130.895 7.45777 130.891 7.69629ZM127.634 7.69629C127.642 7.98382 127.734 8.26274 127.899 8.49815C128.064 8.73356 128.294 8.91501 128.562 9.01983C128.829 9.12465 129.121 9.14817 129.402 9.08745C129.682 9.02673 129.938 8.88448 130.139 8.67846C130.339 8.47244 130.474 8.21182 130.528 7.92919C130.581 7.64655 130.55 7.35444 130.438 7.08941C130.327 6.82437 130.14 6.59816 129.901 6.43908C129.662 6.28 129.381 6.19509 129.094 6.19499C128.898 6.19244 128.704 6.22982 128.523 6.30482C128.342 6.37982 128.178 6.4909 128.041 6.63131C127.905 6.77171 127.798 6.93853 127.727 7.1216C127.657 7.30468 127.624 7.5002 127.631 7.69629H127.634ZM130.053 7.39959H129.565C129.563 7.34219 129.551 7.28557 129.528 7.23306C129.505 7.18055 129.471 7.13319 129.43 7.09372C129.388 7.05424 129.339 7.02342 129.286 7.0031C129.232 6.98277 129.175 6.97332 129.118 6.9753C128.792 6.9753 128.626 7.2542 128.626 7.68144C128.626 8.10868 128.819 8.39649 129.124 8.39649C129.236 8.39585 129.343 8.3521 129.424 8.27427C129.505 8.19644 129.553 8.09045 129.559 7.97814H130.047C130.018 8.20647 129.901 8.41441 129.721 8.55825C129.542 8.7021 129.314 8.77067 129.085 8.74956C128.949 8.75194 128.815 8.72547 128.69 8.6719C128.566 8.61834 128.454 8.53889 128.362 8.43879C128.27 8.33869 128.201 8.22022 128.158 8.09121C128.115 7.96219 128.1 7.82557 128.114 7.69035C128.101 7.55157 128.118 7.41165 128.164 7.28C128.209 7.14835 128.283 7.02802 128.379 6.92711C128.475 6.8262 128.591 6.74705 128.72 6.69498C128.849 6.6429 128.988 6.6191 129.126 6.6252C129.351 6.61461 129.571 6.68951 129.742 6.83483C129.913 6.98015 130.023 7.18511 130.05 7.40848L130.053 7.39959Z"
                  fill="black"
                />
              </g>
              <defs>
                <clipPath id="clip0_201_8689">
                  <rect width="174" height="22" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </Link>
        </div>

        <Menu
          mode="inline"
          style={{ background: "#1E1E1E", color: "white" }}
          defaultSelectedKeys={["1"]}
        >
          {menuItems.map((item, index) => {
            const isActive = location.pathname === item.path;
            if (item.children) {
              return (
                <SubMenu
                  key={`submenu-${index}`}
                  title={item.title}
                  icon={getMenuIcon(item.icon, item.activeIcon, isActive)}
                  style={{
                    color: isActive ? "red" : "#fff",
                    fontWeight: isActive ? "bold" : "normal",
                    fontSize: "16px",
                    marginBottom: "10px",
                    backgroundColor: isActive ? "#FDFEEE" : "transparent",
                  }}
                ></SubMenu>
              );
            } else {
              return (
                <Menu.Item
                  key={`item-${index}`}
                  icon={getMenuIcon(item.icon, item.activeIcon, isActive)}
                  style={{
                    color: isActive ? "red" : "#fff",
                    fontWeight: isActive ? "bold" : "normal",
                    fontSize: "16px",
                    marginBottom: "10px",
                    backgroundColor: isActive ? "#FDFEEE" : "transparent",
                  }}
                >
                  <Link to={item.path}>{item.title}</Link>
                </Menu.Item>
              );
            }
          })}
          <div className="mx-7 mt-36">
            <Button
              onClick={handleLogout}
              className="gap-3 w-full  flex justify-between p-6 bg-[#FFE8E8] text-base font-popping font-semibold text-[#FF0000] "
            >
              Logout
              <svg
                width="37"
                height="38"
                viewBox="0 0 37 38"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect y="0.5" width="37" height="37" rx="18.5" fill="#FFF1F1" />
                <path
                  d="M17.7188 26.2913C17.7188 26.0841 17.8011 25.8854 17.9476 25.7389C18.0941 25.5924 18.2928 25.5101 18.5 25.5101H24.75C24.8191 25.5101 24.8853 25.4827 24.9341 25.4338C24.983 25.385 25.0104 25.3187 25.0104 25.2497V12.7497C25.0104 12.6806 24.983 12.6144 24.9341 12.5655C24.8853 12.5167 24.8191 12.4893 24.75 12.4893H18.5C18.2928 12.4893 18.0941 12.4069 17.9476 12.2604C17.8011 12.1139 17.7188 11.9152 17.7188 11.708C17.7188 11.5008 17.8011 11.3021 17.9476 11.1556C18.0941 11.0091 18.2928 10.9268 18.5 10.9268H24.75C25.7563 10.9268 26.5729 11.7434 26.5729 12.7497V25.2497C26.5729 25.7331 26.3809 26.1968 26.039 26.5387C25.6971 26.8805 25.2335 27.0726 24.75 27.0726H18.5C18.2928 27.0726 18.0941 26.9903 17.9476 26.8438C17.8011 26.6973 17.7188 26.4985 17.7188 26.2913Z"
                  fill="#FF0000"
                />
                <path
                  d="M22.2624 20.1613C22.2624 20.4376 22.1527 20.7025 21.9573 20.8979C21.762 21.0932 21.497 21.203 21.2208 21.203H16.1624C16.1381 21.5731 16.1083 21.9433 16.0729 22.3134L16.0416 22.6311C16.03 22.7508 15.9896 22.866 15.924 22.9668C15.8584 23.0676 15.7694 23.1511 15.6646 23.2102C15.5598 23.2693 15.4423 23.3023 15.322 23.3063C15.2018 23.3103 15.0824 23.2852 14.9739 23.2332C13.0692 22.3214 11.3452 21.0725 9.88536 19.5467L9.85411 19.5144C9.7198 19.3747 9.64478 19.1884 9.64478 18.9946C9.64478 18.8008 9.7198 18.6146 9.85411 18.4749L9.88536 18.4426C11.3452 16.9168 13.0692 15.6678 14.9739 14.7561C15.0824 14.7041 15.2018 14.679 15.322 14.683C15.4423 14.687 15.5598 14.72 15.6646 14.7791C15.7694 14.8382 15.8584 14.9216 15.924 15.0225C15.9896 15.1233 16.03 15.2384 16.0416 15.3582L16.0729 15.6759C16.1083 16.0453 16.1381 16.4155 16.1624 16.7863H21.2208C21.497 16.7863 21.762 16.8961 21.9573 17.0914C22.1527 17.2868 22.2624 17.5517 22.2624 17.828V20.1613Z"
                  fill="#FF0000"
                />
              </svg>
            </Button>
          </div>
        </Menu>
      </Sider>
      <Layout style={{ marginLeft: 300 }}>
        <Header
          style={{
            position: "fixed",
            width: "calc(100% - 300px)",
            top: 0,
            left: 300,
            background: "linear-gradient(to right, #f2f7f1, #ecf7f5, #f0f7f6)",
            height: "80px",
            paddingTop: "20px",
            zIndex: 10,
            display: "flex",
            justifyContent: "space-between",
            alignItems: "center",
          }}
        >
          <div className="w-full flex items-center justify-between">
            <div>
              <h1 className="text-[#333333] font-bold text-[24px]">
                <div className="flex items-center gap-3">
                  <h4 className="text-[32px] font-bold font-degular text-[##121212]">
                    Hi, {data?.data?.full_name}
                  </h4>
                  <img
                    className="object-cover h-9 w-9"
                    src={headerHend}
                    alt=""
                  />
                </div>
              </h1>
            </div>

            <div className=" flex items-center justify-between  gap-x-5  " >

              <div
                onClick={handleNotifications}
                className="relative cursor-pointer flex items-center gap-4"
                style={{ zIndex: 11 }}
              >
                <svg
                  width="42"
                  height="42"
                  viewBox="0 0 42 42"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="42" height="42" rx="21" fill="#E7F056" />
                  <path
                    d="M13 28V26H15V19C15 17.6167 15.4167 16.3877 16.25 15.313C17.0833 14.2383 18.1667 13.534 19.5 13.2V12.5C19.5 12.0833 19.646 11.7293 19.938 11.438C20.23 11.1467 20.584 11.0007 21 11C21.416 10.9993 21.7703 11.1453 22.063 11.438C22.3557 11.7307 22.5013 12.0847 22.5 12.5V13.2C23.8333 13.5333 24.9167 14.2377 25.75 15.313C26.5833 16.3883 27 17.6173 27 19V26H29V28H13ZM21 31C20.45 31 19.9793 30.8043 19.588 30.413C19.1967 30.0217 19.0007 29.5507 19 29H23C23 29.55 22.8043 30.021 22.413 30.413C22.0217 30.805 21.5507 31.0007 21 31Z"
                    fill="#121212"
                  />
                </svg>

                {/* Badge */}

                {/* Badge */}
                {unRead > 0 && (
                  <span className="absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-600 rounded-full">
                    {unRead}
                  </span>
                )}

              </div>


              <div>
                <div>
                  <Link to={"/my_profile"}>
                    <img
                      src={
                        data?.data.avatar
                          ? `${import.meta.env.VITE_BASE_URL}/${data?.data.avatar}`
                          : "http://103.186.20.110:8002/storage/uploads/avatar/1756186434.png"
                      }
                      alt="profileImg"
                      className=" w-16 h-16 object-fill  rounded-full "
                    />
                  </Link>
                </div>
              </div>






            </div>
          </div>
        </Header>

        <Content
          style={{
            marginTop: 80,
            padding: "20px",
            overflowY: "auto",
            height: `calc(100vh - 80px)`,
            background: "linear-gradient(to right, #f2f7f1, #ecf7f5, #f0f7f6)",
          }}
        >
          <div className="h-full mp-2 rounded p-3 bg-gradient-to-r from-[#f2f7f1] via-[#ecf7f5] to-[#f0f7f6]">
            <Outlet />
          </div>
        </Content>
      </Layout>
    </Layout>
  );
};

export default Dashboard;
